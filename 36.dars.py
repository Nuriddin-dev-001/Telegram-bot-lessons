import random
from telegram.ext import Updater, CommandHandler, MessageHandler, Filters, CallbackQueryHandler
from telegram import BotCommand, ReplyKeyboardMarkup, KeyboardButton, InlineKeyboardMarkup, InlineKeyboardButton, BotCommand, InputMediaPhoto, ReplyKeyboardRemove
ADMIN_ID = 7192734058
TOKEN = "7926665974:AAGFadnhmF4QLRG2Y7xR85J07JLXYzdkIWw"

buttons = [
    [InlineKeyboardButton(text="Send Photo", callback_data="send_photo"),
     InlineKeyboardButton(text="Send Document", callback_data="send_document"),
     InlineKeyboardButton(text="Change Photo", callback_data="change_photo"),
     ],
        [InlineKeyboardButton(text="Send Media Group", callback_data="send_group")]
]
def start_func(update, context):
     commands = [BotCommand(command='start', description="Botga start berish"),
                 BotCommand(command='info', description="Bot haqida ma'lumot"),
                 ]
     context.bot.set_my_commands(commands=commands)
     update.message.reply_photo(
        # photo=open('photos/hi_bot.jpg', 'rb'),
        photo='https://oyina.uz/storage/funnies/October2023/em06o5PIPybsJSl0tQS8.png',
        caption="Salom!!!",
        reply_markup=InlineKeyboardMarkup(buttons)
    )

def message_handler(update, context):
    # context.user_data - har bir user uchun maxsus dict o'zgaruvchi
    if context.user_data.get('matn'):
        words = context.user_data['matn']
    else:
        words = []
    words.append(update.message.text)
    context.user_data['matn'] = words
    print(f"{update.message.from_user.username}: {words}")


def inline_messages(update, context):
    query = update.callback_query
    print(query)
    if query.data == 'send_document':
        query.message.reply_document(
            document=open('register_bot.py'),
            caption='1-dars',
            reply_markup=InlineKeyboardMarkup(buttons)
        )

    elif query.data == 'send_photo':
        query.message.reply_photo(
            photo=f'data:image/jpeg;base64,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/id/{random.randint(1,100)}/400/200',
            caption='Random Photo',
            reply_markup=InlineKeyboardMarkup(buttons)
        )
    elif query.data == 'change_photo':
        query.message.edit_media(media=InputMediaPhoto(media=f'https://picsum.photos/id/{random.randint(1,100)}/400/200'))

        query.message.edit_reply_markup(reply_markup=InlineKeyboardMarkup(buttons))

    elif query.data == 'send_group':
        query.message.reply_media_group(
            media=[
                InputMediaPhoto(media=open('photos/programmist.png','rb')),
                InputMediaPhoto(media=f'https://picsum.photos/id/{random.randint(1, 100)}/400/200'),
                InputMediaPhoto(media=f'https://picsum.photos/id/{random.randint(20, 100)}/400/200')
            ]
        )
def photo_handler(update, context):
    file = update.message.photo[-1].file_id
    obj = context.bot.get_file(file)
    obj.download('photos/user_photo.jpg')
updater = Updater(token=TOKEN)
dispatcher = updater.dispatcher
dispatcher.add_handler(CommandHandler('start',start_func))
dispatcher.add_handler(MessageHandler(Filters.text, message_handler))
dispatcher.add_handler(CallbackQueryHandler(inline_messages))
dispatcher.add_handler(MessageHandler(Filters.photo, photo_handler))
updater.start_polling()
updater.idle()

